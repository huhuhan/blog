(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{561:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("FW"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdk1.8.0_131"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("keytool.exe\n密钥和证书管理工具\n\n命令:\n\n -certreq            生成证书请求\n -changealias        更改条目的别名\n -delete             删除条目\n -exportcert         导出证书\n -genkeypair         生成密钥对\n -genseckey          生成密钥\n -gencert            根据证书请求生成证书\n -importcert         导入证书或证书链\n -importpass         导入口令\n -importkeystore     从其他密钥库导入一个或所有条目\n -keypasswd          更改条目的密钥口令\n -list               列出密钥库中的条目\n -printcert          打印证书内容\n -printcertreq       打印证书请求的内容\n -printcrl           打印 CRL 文件的内容\n -storepasswd        更改密钥库的存储口令\n\n使用 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keytool -command_name -help"')]),s._v(" 获取 command_name 的用法\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("ul",[t("li",[s._v("可生成秘钥、证书")])]),s._v(" "),t("h2",{attrs:{id:"生成秘钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成秘钥"}},[s._v("#")]),s._v(" 生成秘钥")]),s._v(" "),t("p",[s._v("jwt的秘钥对， 使用 -genkeypair参数命令")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("FW"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdk1.8.0_131"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("keytool -genkeypair -help\nkeytool -genkeypair "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n生成密钥对\n\n选项:\n\n -alias "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("alias"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                  要处理的条目的别名\n -keyalg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("keyalg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                密钥算法名称\n -keysize "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("keysize"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("              密钥位大小\n -sigalg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("sigalg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                签名算法名称\n -destalias "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("destalias"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          目标别名\n -dname "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("dname"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                  唯一判别名\n -startdate "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("startdate"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          证书有效期开始日期/时间\n -ext "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                    X.509 扩展\n -validity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("valDays"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("             有效天数\n -keypass "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("arg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                  密钥口令\n -keystore "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("keystore"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            密钥库名称\n -storepass "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("arg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                密钥库口令\n -storetype "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("storetype"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          密钥库类型\n -providername "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("providername"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("    提供方名称\n -providerclass "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("providerclass"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  提供方类名\n -providerarg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("arg"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("              提供方参数\n -providerpath "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pathlist"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        提供方类路径\n -v                              详细输出\n -protected                      通过受保护的机制的口令\n\n使用 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"keytool -help"')]),s._v(" 获取所有可用命令\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("p",[s._v("应用例子")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("keytool.exe -genkeypair -alias yh-jwt -keyalg RSA -keypass yh-user -keystore yh-cloud.jks -storepass yh-admin\n您的名字与姓氏是什么?\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  yh\n您的组织单位名称是什么?\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  yh\n您的组织名称是什么?\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  yh\n您所在的城市或区域名称是什么?\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  yh\n您所在的省/市/自治区名称是什么?\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  yh\n该单位的双字母国家/地区代码是什么?\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  yh\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yh, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OU")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yh, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("O")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yh, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("L")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yh, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yh, "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("C")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yh是否正确?\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("否"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  y\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("blockquote",[t("ul",[t("li",[s._v("keypass秘钥口令，即当前秘钥的密码")]),s._v(" "),t("li",[s._v("storepass秘钥库的密码，设置后，后续用工具生成同名秘钥库都需要填写store密码")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("keytool.exe -genkeypair -alias yh-jwt -keyalg RSA -keypass yh-user -keystore yh-cloud.jks -storepass yh-admin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("对应的java的jwt代码")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KeyStoreKeyFactory")]),s._v(" keyStoreKeyFactory "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KeyStoreKeyFactory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassPathResource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yh-cloud.jks"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yh-admin"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toCharArray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" keyStoreKeyFactory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getKeyPair")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yh-jwt"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yh-user"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toCharArray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);