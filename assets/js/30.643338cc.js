(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{532:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),t("p",[s._v("user.name 和 user.email 信息作为git提交代理的用户信息")]),s._v(" "),t("p",[s._v("git 的配置分为三级别：")]),s._v(" "),t("ul",[t("li",[s._v("System 即系统级别")]),s._v(" "),t("li",[s._v("Global 为配置的全局")]),s._v(" "),t("li",[s._v("Local 为仓库级别")])]),s._v(" "),t("p",[s._v("优先级是 "),t("strong",[s._v("Local > Global > System")])]),s._v(" "),t("p",[s._v("因此多账户下，建议"),t("strong",[s._v("清除全局配置，采用local配置，每个项目仓库配一次")])]),s._v(" "),t("p",[s._v("单账户直接用全局配置，不用后面的config文件")]),s._v(" "),t("h3",{attrs:{id:"查看修改配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看修改配置"}},[s._v("#")]),s._v(" 查看修改配置")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看配置：全局、本地和系统")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --list\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local --list\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --system --list\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#清除全局用户信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --unset user.name\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --unset user.email\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置本地信息，在项目克隆或初始化后执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local user.name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yanghan"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local user.email "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yanghan"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看本地仓库配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local --list\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"生成秘钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成秘钥"}},[s._v("#")]),s._v(" 生成秘钥")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#确认是否已有秘钥，默认在C盘/user/计算机用户名/.ssh/下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.ssh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#生成账户秘钥")]),s._v("\nssh-keygen -t rsa -C "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yanghan"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("enter后，输入秘钥名，如"),t("code",[s._v("id_rsa_gitlab")]),s._v("，文件在当前目录下（除非是绝对路径），复制至.ssh目录")]),s._v(" "),t("p",[s._v("再enter后，是输入秘钥密码，可跳过，设置密码的话，初次使用ssh需要密码确认")]),s._v(" "),t("p",[s._v("再enter，是确认密码")]),s._v(" "),t("p",[s._v("同理，生成多个密钥，比如"),t("code",[s._v("id_rsa_github")])]),s._v(" "),t("h2",{attrs:{id:"设置秘钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置秘钥"}},[s._v("#")]),s._v(" 设置秘钥")]),s._v(" "),t("h3",{attrs:{id:"开启代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启代理"}},[s._v("#")]),s._v(" 开启代理")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#确定是否已开启代理，显示id")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("ssh-agent -s"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#提示不能连接代理则执行")]),s._v("\nssh-agent -s\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或")]),s._v("\nssh-agent "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"添加私钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加私钥"}},[s._v("#")]),s._v(" 添加私钥")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 GitHub 私钥添加到本地")]),s._v("\nssh-add ~/.ssh/id_rsa_github\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 GitLab 私钥添加到本地")]),s._v("\nssh-add ~/.ssh/id_rsa_gitlab \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#检查是否有私钥")]),s._v("\nssh-add -l \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"添加公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加公钥"}},[s._v("#")]),s._v(" 添加公钥")]),s._v(" "),t("p",[s._v("将对应的公钥（.pub后缀文件）添加到 github 、gitlab 网站上配置的 SSH Keys 中")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：复制填写时不要多余空格")])]),s._v(" "),t("h3",{attrs:{id:"测试连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试连接"}},[s._v("#")]),s._v(" 测试连接")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@github.com  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git@{Host或HostName}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@192.168.0.82\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@101.91.199.54\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第一次会提示是否接受认证，选择yes，.ssh目录下会有knowhosts文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"多账户配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多账户配置"}},[s._v("#")]),s._v(" 多账户配置")]),s._v(" "),t("p",[s._v("秘钥同目录（.ssh目录）下，新建config文件，无后缀，配置如下")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# github.com")]),s._v("\nHost github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\nHostName github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\nPreferredAuthentications publickey\nIdentityFile "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ssh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id_rsa\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gitlab.company.com")]),s._v("\nHost "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".82")]),s._v("\nHostName "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".82")]),s._v("\nPreferredAuthentications publickey\nIdentityFile "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ssh"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id_rsa_fw\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("该文件分为多个用户配置，每个用户配置包含以下几个配置项：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Host")]),s._v("：仓库网站的别名，随意取，建议直接和hostName一样")]),s._v(" "),t("li",[t("strong",[s._v("HostName")]),s._v("：仓库网站的域名（PS：内网IP 地址也可以）")]),s._v(" "),t("li",[t("strong",[s._v("User")]),s._v("：仓库网站上的用户名")]),s._v(" "),t("li",[t("strong",[s._v("IdentityFile")]),s._v("：私钥的绝对路径")])]),s._v(" "),t("p",[t("strong",[s._v("注：")]),s._v(" Host 就是可以替代 HostName 来使用的别名，如git@{Host或HostName}")]),s._v(" "),t("p",[s._v("实际应用，"),t("strong",[s._v("本地项目仓库配置")]),s._v("，用户邮箱，会自动识别")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local user.name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xx"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --local user.email "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xx@xx.com"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("SSH命令参考： https://man.linuxde.net/ssh-add")]),s._v(" "),t("p",[s._v("参考：https://blog.csdn.net/yuanlaijike/article/details/95650625")]),s._v(" "),t("p",[s._v("参考：https://blog.csdn.net/felicity294250051/article/details/53606158")])]),s._v(" "),t("h2",{attrs:{id:"ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[s._v("#")]),s._v(" SSH")]),s._v(" "),t("blockquote",[t("p",[s._v("ssh 不仅限于git，也可以用于Linux连接等其他应用")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("用SSH命令"),t("code",[s._v("ssh-keygen")]),s._v("生成公钥、私钥。")])]),s._v(" "),t("li",[t("p",[s._v("私钥放本地主机，公钥放服务器")])]),s._v(" "),t("li",[t("p",[s._v("本地"),t("code",[s._v(".ssh")]),s._v("目录结构")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("config\t\t\t\t\t\t配置。存在多对认证时需要配置，参考上面的git\nid_rsa\t\t\t\t\t\t私钥\nid_rsa.pub\t\t\t\t\t公钥，本地没用，放服务器，可以删除\nknown_hosts\t\t\t\t\t缓存认证。第一个ssh连接会存储信息\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("服务器公钥")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("git：相关的git服务器一般都有网站设置界面")])]),s._v(" "),t("li",[t("p",[s._v("linux的ssh：路径时"),t("code",[s._v("~/.ssh/authorized_keys")]),s._v("，没用则手段创建，权限至少700。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 公钥追加，建议用命令，手段复制需要间隔换行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /home/id_rsa.pub "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.ssh/authorized_keys\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);